"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.Typeahead~loader.DMDrawer~bundle.AudioSpaceDiscovery~bundle.Communities~bundle.Compose~bundle.R"],{22150:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(7896),r=(o(6886),o(2784)),s=o(25686),i=o(79404),l=o.n(i),a=o(28045),c=o(6405),d=o(16587),p=o(73036),h=o(36934),u=o(29496),y=o(73186),g=o(32070);const m="clearButton",b="pill",x=l().ae7f7656,C={viewType:"clear"};class f extends r.Component{constructor(...e){super(...e),this._textFieldAPI=r.createRef(),this.state={hasContent:!1,isFocused:!1},this.getInvisibleBorderStyle=()=>{const{invalid:e}=this.props,{isFocused:t}=this.state;return[!e&&!t&&S.transparent]},this.getContainerStyle=()=>{const{editable:e,invalid:t,multiline:o,styleType:n}=this.props,{isFocused:r}=this.state;switch(n){case"legacyPill":return[!t&&!r&&S.transparent,!r&&B.legacyFadedGrayColor,!o&&_.infinite,B.root,t&&S.invalid,!t&&r&&S.legacyFocused,r&&B.legacyPilltransparentColor,o&&_.legacyRound,!e&&B.legacyDisabled];case b:return[!t&&!r&&S.unfocused,!r&&B.fadedGrayColor,!o&&_.infinite,B.root,B.pillRoot,t&&S.invalid,!t&&r&&S.focused,r&&B.backgroundColor,o&&_.round,!e&&B.disabled];default:return[S.none,B.root,B.selectionBackground]}},this._renderUnfocusedPlaceholder=()=>{const{appTextSize:e}=this.props;return r.createElement(s.Z,{style:B.placeholderView},r.createElement(h.ZP,{numberOfLines:1,size:e,style:this.getUnfocusedStyles()},this._isInputEmpty()?this.props.placeholder:this.getValue()))},this.getUnfocusedStyles=()=>{const{Icon:e}=this.props,{isFocused:t}=this.state;return[F.placeholderRoot,e&&F.iconPadding,t&&F.focused,!this._isInputEmpty()&&F.textColor]},this._getTextInputStyle=(0,d.Z)((e=>[this._getInputRootStyle(),e])),this._getInputRootStyle=()=>{const{Icon:e,isCompact:t,multiline:o,styleType:n}=this.props,{isFocused:r}=this.state;return n===b?[F.pillRoot,e&&F.iconPadding,r&&F.focused,!o&&F.safariFirefoxNoMargin]:[F.root,t&&F.compact]},this._handleLexicalChange=e=>{var t,o;const{isFocused:n}=this.state;this.setState({hasContent:e.length>0}),n||this.setState({isFocused:!0}),this.props.lexicalInputContext&&(null==(t=(o=this.props).onChange)||t.call(o,e))},this._handleBlur=()=>{const{onBlur:e}=this.props;this.setState({isFocused:!1}),e&&e()},this._handleClear=e=>{var t;this.props.focusOnClear&&this.focus(),null==(t=this._textFieldAPI.current)||t.clear()},this._handlePlainChange=e=>{var t,o;const{isFocused:n}=this.state;this.setState({hasContent:this.getValue().length>0}),this.props.richTextInputContext||this.props.lexicalInputContext||(n||this.setState({isFocused:!0}),null==(t=(o=this.props).onChange)||t.call(o,e))},this._handleRichChange=e=>{var t,o;const{isFocused:n}=this.state;this.setState({hasContent:this.getValue().length>0}),this.props.richTextInputContext&&(n||this.setState({isFocused:!0}),null==(t=(o=this.props).onChange)||t.call(o,e))},this._handleFocus=()=>{const{onFocus:e}=this.props;this.setState({isFocused:!0}),e&&e()},this._handleKeyPress=e=>{const{multiline:t,onKeyPress:o,onSubmitEditing:n}=this.props;o&&o(e),e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||t||!n||(e.preventDefault(),n(e))},this._handleKeyDown=e=>{const{onKeyDown:t}=this.props;t&&t(e)},this._handleKeyUp=e=>{const{onKeyUp:t}=this.props;t&&t(e)}}render(){const{appTextSize:e,contentAbove:t,contentBelow:o,emojiPickerButton:n,leftAligned:i,leftContent:l,lexicalInputContext:a,onLayout:c,richTextInputContext:d,style:p,styleType:u,testID:g,withClearButton:m}=this.props,{isFocused:x}=this.state;return r.createElement(s.Z,{onBlur:this._handleBlur,onFocus:this._handleFocus,onLayout:c,style:[this.getContainerStyle(),p]},r.createElement(s.Z,{style:u===b&&this.getInvisibleBorderStyle()},t,r.createElement(s.Z,{style:B.textInputBox},i?l:null,r.createElement(s.Z,{accessibilityRole:"label",style:[B.textInput,this._isCentered()&&B.pillTextInput],testID:g&&`${g}_label`},this._renderIcon(),r.createElement(s.Z,{style:[B.fitText,this._isCentered()?null:B.appTextLeft]},r.createElement(h.ZP,{size:e,style:[B.appText,x?null:this._isCentered()?F.hiddenStyle:null]},a?this._renderLexicalInput():d?this._renderRichTextInput():this._renderTextInput()),x?null:this._isCentered()?this._renderUnfocusedPlaceholder():null),r.createElement(s.Z,{style:[k.root,!!n&&k.withEmojiPicker,this._isCentered()&&y.Z.visuallyHidden]},this._renderCloseButton(),this._renderEmojiPicker(),m&&this._renderClearButton()))),o))}_isInputEmpty(){return 0===this.getValue().length}_isCentered(){const{leftAligned:e,styleType:t}=this.props,{isFocused:o}=this.state;return t===b&&!e&&!o}_renderIcon(){const{Icon:e,iconStyle:t,styleType:o}=this.props,{isFocused:n}=this.state,i=[I.legacyRoot,n&&I.legacyFocused,t],l=[I.root,n&&I.focused,t];return e?r.createElement(s.Z,{style:k.leftIcon},r.createElement(e,{style:o===b?l:i})):null}_renderTextInput(){const{Icon:e,appTextSize:t,closeButton:o,contentAbove:s,contentBelow:i,emojiPickerButton:l,focusOnClear:a,handleReturn:c,iconStyle:d,inputStyle:h,invalid:u,isCompact:m,keyBindingFn:b,keyCommandHandlers:x,leftAligned:C,leftContent:f,lexicalInputContext:_,onLayout:S,onSubmitEditing:I,placeholderTextColor:T,richTextInputContext:k,style:B,styleType:P,withClearButton:v,...w}=this.props;return r.createElement(r.Fragment,null,p.ZP.isEdge()?r.createElement("style",null,"input[type=text]::-ms-clear { display: none; }"):null,r.createElement(g.Z,(0,n.Z)({},w,{onBlur:this._handleBlur,onChange:this._handlePlainChange,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,placeholderTextColor:T||y.Z.theme.colors.gray700,ref:this._textFieldAPI,style:[this._getTextInputStyle(h),F.fullWidth]})))}_renderRichTextInput(){const{appTextSize:e,ariaActiveDescendant:t,ariaAutocomplete:o,ariaControls:n,ariaLabel:i,autoFocus:l,handleReturn:a,inputStyle:c,isCompact:d,keyBindingFn:p,keyCommandHandlers:h,maxNumberOfLines:u,multiline:g,numberOfLines:m,onFilesAdded:x,placeholder:C,placeholderTextColor:f,positionCursorAtBeginning:_,positionCursorAtEnd:S,richTextInputContext:I,spellCheck:T,styleType:k,testID:B}=this.props,{blockRenderMap:P,blockRendererFn:v,blockStyleFn:w,dismissComposerCommandName:E,dragPlaceholder:R,editorState:Z,element:A,sendTweetCommandName:D,stripPastedStyles:W,withMaxHeight:z}=I||{},L=[F.root,F.rich,k===b&&F.richRoot];return A&&Z?r.createElement(s.Z,{style:[F.richContainer,d&&F.compact,c]},r.createElement(A,{appTextSize:e,ariaActiveDescendant:t,ariaAutocomplete:o,ariaControls:n,ariaLabel:i,autoFocus:l,blockRenderMap:P,blockRendererFn:v,blockStyleFn:w,dismissComposerCommandName:E,dragPlaceholder:R,editorState:Z,handleReturn:a,keyBindingFn:p,keyCommandHandlers:h,maxNumberOfLines:u,multiline:g,numberOfLines:m,onBlur:this._handleBlur,onChange:this._handleRichChange,onFilesAdded:x,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,placeholder:C,placeholderTextColor:f||y.Z.theme.colors.gray700,positionCursorAtBeginning:_,positionCursorAtEnd:S,ref:this._textFieldAPI,sendTweetCommandName:D,spellCheck:T,stripPastedStyles:W,style:L,testID:B,withMaxHeight:z})):null}_renderLexicalInput(){const{ariaActiveDescendant:e,ariaAutocomplete:t,ariaControls:o,ariaLabel:n,autoFocus:i,inputStyle:l,isCompact:a,lexicalInputContext:c,multiline:d,onFilesAdded:p,placeholder:h,spellCheck:u,testID:y}=this.props,{element:g,withDebug:m}=c||{},b=g;return r.createElement(s.Z,{style:[F.richContainer,a&&F.compact,l]},r.createElement(b,{ariaActiveDescendant:e,ariaAutocomplete:t,ariaControls:o,ariaLabel:n,autoFocus:i,multiline:d,onChange:this._handleLexicalChange,onFilesAdded:p,onFocus:this._handleFocus,placeholder:h,ref:this._textFieldAPI,spellCheck:u,testID:y,withDebug:m}))}_renderClearButton(){const{styleType:e}=this.props,t=e===b?r.createElement(a.Z,{style:T.icon}):r.createElement(c.Z,{style:T.legacyIcon}),o=r.createElement(u.ZP,{accessibilityLabel:x,behavioralEventContext:C,focusable:!0,icon:t,onPress:this._handleClear,size:"smallCompact",style:T.root,testID:m,type:e===b?void 0:"brandFilled"});return this.getValue()?o:r.createElement(s.Z,null)}_renderEmojiPicker(){const{emojiPickerButton:e}=this.props;return e?r.createElement(s.Z,null,e):null}_renderCloseButton(){const{closeButton:e}=this.props;return e?r.createElement(s.Z,{style:k.closeButton},e):null}applyFinalValue(e){this.focus(),window.requestAnimationFrame((()=>{this.blur(),e(this.getValue())}))}blur(){var e;null==(e=this._textFieldAPI.current)||e.blur()}focus(){var e;null==(e=this._textFieldAPI.current)||e.focus()}clear(){var e;null==(e=this._textFieldAPI.current)||e.clear()}getValue(){var e;const{value:t}=this.props;return(null==(e=this._textFieldAPI.current)?void 0:e.getValue())||t||""}getTextInputHeight(){var e;const{richTextInputContext:t}=this.props,o=2*y.Z.theme.spacesPx.space12,n=2*y.Z.theme.borderWidthsPx.small;return((null==(e=this._textFieldAPI.current)?void 0:e.getOffsetHeight())||0)+(t?o:0)+n}}f.defaultProps={appTextSize:"body",autoComplete:"on",styleType:b,autoCorrect:!0,editable:!0,focusOnClear:!0,withClearButton:!1},f.propTypes={};const _=y.Z.create((e=>({infinite:{borderRadius:e.borderRadii.infinite},legacyRound:{borderRadius:e.borderRadii.xLarge},round:{borderRadius:"20px"},none:{borderRadius:e.borderRadii.none}}))),S=y.Z.create((e=>({transparent:{borderColor:e.colors.transparent,borderStyle:"solid",borderWidth:e.borderWidths.small},legacyFocused:{borderColor:e.colors.primary,borderStyle:"solid",borderWidth:e.borderWidths.small},invalid:{borderColor:e.colors.red500,borderStyle:"solid",borderWidth:e.borderWidths.small},none:{borderWidth:e.borderWidths.none},unfocused:{borderColor:e.colors.gray200,borderStyle:"solid",borderWidth:e.borderWidths.small},focused:{borderColor:e.colors.primary,borderStyle:"solid",borderWidth:e.borderWidths.medium}}))),F=y.Z.create((e=>({root:{backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,boxSizing:"border-box",color:"inherit",outlineStyle:"none",fontFamily:"inherit",fontSize:"inherit",padding:e.spaces.space12,textAlign:"inherit"},compact:{paddingVertical:e.spaces.space4},hiddenStyle:{position:"absolute",start:"-9999px"},safariFirefoxNoMargin:{marginTop:"0px",marginBottom:"0px",paddingTop:"0px",paddingBottom:"0px"},pillRoot:{backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,boxSizing:"border-box",color:"inherit",outlineStyle:"none",fontFamily:"inherit",fontSize:e.fontSizes.subtext1,minHeight:e.spaces.space40,paddingStart:e.spaces.space16,paddingEnd:e.spaces.space16,paddingTop:e.spaces.space12,paddingBottom:e.spaces.space12,lineHeight:e.lineHeights.subtext1,caretColor:e.colors.primary},placeholderRoot:{backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,boxSizing:"border-box",outlineStyle:"none",fontSize:e.fontSizes.subtext1,minHeight:e.spaces.space40,paddingStart:e.spaces.space16,paddingEnd:e.spaces.space16,paddingTop:e.spaces.space12,paddingBottom:e.spaces.space12,lineHeight:e.lineHeights.subtext1,caretColor:e.colors.primary,color:e.colors.gray700},textColor:{color:e.colors.text},focused:{paddingEnd:e.spaces.space4},iconPadding:{paddingStart:e.spaces.space4},richContainer:{width:"100%",padding:e.spaces.space12},rich:{padding:0},richRoot:{fontSize:e.fontSizes.subtext1,caretColor:e.colors.primary},fullWidth:{width:"100%"}}))),I=y.Z.create((e=>({legacyRoot:{color:e.colors.gray700,minWidth:e.spaces.space32,paddingStart:e.spaces.space12},root:{boxSizing:"content-box",color:e.colors.gray700,paddingStart:e.spaces.space12,height:e.spaces.space16,width:e.spaces.space16},legacyFocused:{color:e.colors.primary},focused:{color:e.colors.gray700}}))),T=y.Z.create((e=>({root:{borderWidth:e.borderWidths.none,marginEnd:e.spaces.space12},legacyIcon:{width:"10px",height:"10px",color:e.colors.cellBackground},icon:{color:e.colors.buttonBlack}}))),k=y.Z.create((e=>({root:{display:"flex",justifyContent:"center"},withEmojiPicker:{display:"flex",justifyContent:"flex-end",flexDirection:"column"},closeButton:{flexGrow:1},leftIcon:{display:"flex",justifyContent:"center",cursor:"default"}}))),B=y.Z.create((e=>({root:{flexDirection:"column",flexGrow:1,flexShrink:1,justifyContent:"center"},pillRoot:{minHeight:e.spaces.space40},legacyDisabled:{cursor:"default",opacity:.8},legacyFadedGrayColor:{backgroundColor:e.colors.gray50},selectionBackground:{backgroundColor:e.colors.cellBackground},legacyPilltransparentColor:{backgroundColor:"transparent"},textInputBox:{flexDirection:"row",alignItems:"center"},textInput:{flexDirection:"row",cursor:"text",flex:1},appText:{display:"flex"},pillTextInput:{justifyContent:"center"},backgroundColor:{backgroundColor:e.colors.navigationBackground},appTextLeft:{flexGrow:1},placeholderView:{flexGrow:1},fitText:{flexShrink:1},fadedGrayColor:{backgroundColor:e.colors.navigationBackground},disabled:{cursor:"default",opacity:.5}})))},28045:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(2784),r=o(90601),s=o(73569);const i=(e={})=>(0,r.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.Z.root,e.style],viewBox:"0 0 24 24",children:n.createElement("g",null,n.createElement("path",{d:"M12 1.75C6.34 1.75 1.75 6.34 1.75 12S6.34 22.25 12 22.25 22.25 17.66 22.25 12 17.66 1.75 12 1.75zm3.71 12.54l-1.42 1.42-2.29-2.3-2.29 2.3-1.42-1.42 2.3-2.29-2.3-2.29 1.42-1.42 2.29 2.3 2.29-2.3 1.42 1.42-2.3 2.29 2.3 2.29z"}))});i.metadata={width:24,height:24};const l=i}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.Typeahead~loader.DMDrawer~bundle.AudioSpaceDiscovery~bundle.Communities~bundle.Compose~bundle.R.57ab2be9.js.map