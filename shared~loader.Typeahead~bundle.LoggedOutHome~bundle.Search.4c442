"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.Typeahead~bundle.LoggedOutHome~bundle.Search"],{20604:(e,t,s)=>{s.d(t,{ZP:()=>R,UJ:()=>I});s(6886),s(36728);var r=s(2784),a=s(67502),n=s(25686),i=s(73186),o=s(36934),c=s(79404),l=s.n(c),h=s(66927),d=s(1206),u=s(16742),p=s(20032),m=s(68547),S=s(66961),y=s(76687),_=s(92160),f=s(57659);const g=(0,_.Z)().propsFromState((()=>({loggedInUser:f.ZP.selectLoggedInUser}))).adjustStateProps((({loggedInUser:e})=>({loggedInUserScreenName:e?e.screen_name:void 0}))),v=l().b47e760e,b=l().fd2c7b44,C=new h.Z,I=e=>{if(!a.canUseDOM)return d.Z;return C.subscribe(e).unsubscribe};class w extends r.Component{constructor(...e){super(...e),this._bindKeyboardShortcuts=()=>{const{history:e,loggedInUserScreenName:t}=this.props,s=(t,s={})=>e.push({pathname:t,state:{...s,source:"keyboard_shortcut"}}),r=e=>t=>{t.preventDefault(),C.getListeners().length?C.notify(e):s("/explore",{searchFocused:!0,searchPrefill:e})},a={[S.uq.search]:r(),[S.uq.goToUser]:r("@"),[S.uq.openKeyboardShortcuts]:()=>s("/i/keyboard_shortcuts"),[S.uq.goExplore]:()=>s("/explore"),[S.uq.goSettings]:()=>s("/settings")},n=e=>({[S.uq.goProfile]:()=>s(`/${e}`),[S.uq.goLikes]:()=>s(`/${e}/likes`),[S.uq.goLists]:()=>s(`/${e}/lists`)}),i=this.context.userClaims.isTrueAndEnabled("subscriptions_feature_1007"),o=t&&i?{...n(t),[S.uq.goTopArticles]:()=>s("/i/articles")}:t?n(t):{},c={...a,...o,[S.uq.goHome]:()=>s("/home"),[S.uq.goDisplay]:()=>s("/i/display"),[S.uq.goNotifications]:()=>s("/notifications"),[S.uq.goMentions]:()=>s("/notifications/mentions"),[S.uq.goMessages]:()=>s("/messages"),[S.uq.newMessage]:()=>s("/messages/compose"),[S.uq.newTweet]:()=>s("/compose/tweet"),[S.uq.goMomentMaker]:()=>s("/i/moment_maker"),[S.uq.goBookmarks]:()=>s("/i/bookmarks"),[S.uq.goToDrafts]:()=>s("/compose/tweet/unsent/drafts"),[S.uq.goToScheduled]:()=>s("/compose/tweet/unsent/scheduled")},l=this.props.loggedInUserScreenName?c:a;this._unbindKeyboardShortcuts=(0,m.Z)(l)}}componentDidMount(){this._bindKeyboardShortcuts()}componentWillUnmount(){this._unbindKeyboardShortcuts&&this._unbindKeyboardShortcuts()}render(){return this.props.loggedInUserScreenName?r.createElement(n.Z,{accessibilityLevel:2,accessibilityRole:"heading",style:i.Z.visuallyHidden},r.createElement(o.ZP,null,v),r.createElement(o.ZP,{focusable:!1,link:"/i/keyboard_shortcuts"},b)):null}}w.contextType=p.rC;const E=g(w),R=a.canUseDOM?(0,y.ZP)(E):(0,u.Z)(null)},50617:(e,t,s)=>{s.d(t,{Z:()=>d});var r=s(2784),a=s(84292),n=s(79404),i=s.n(n),o=s(85693);const c=i().hffea05c,l=i().j037e374,h=i().d96cf7ce,d=({onCancel:e,onConfirm:t})=>r.createElement(a.Z,{confirmButtonLabel:h,confirmButtonType:"destructiveFilled",headline:c,onCancel:e,onConfirm:t,testID:o.Z.deleteSavedSearchDialog,text:l})},85693:(e,t,s)=>{s.d(t,{Z:()=>r});const r={deleteRecentSearchesDialog:"deleteRecentSearchesDialog",deleteSavedSearchDialog:"deleteSavedSearchDialog",typeaheadEmptySearch:"typeaheadEmptySearch",typeaheadRecentSearchesHeader:"typeaheadRecentSearchesHeader",typeaheadRecentSearchesItem:"typeaheadRecentSearchesItem",typeaheadSavedSearchesContainer:"typeaheadSavedSearchesContainer",typeaheadSavedSearchesHeader:"typeaheadSavedSearchesHeader",typeaheadSavedSearchesItem:"typeaheadSavedSearchesItem"}},92205:(e,t,s)=>{s.r(t),s.d(t,{SearchBoxContainer:()=>Ve,default:()=>Ke});var r=s(7896),a=(s(85940),s(36728),s(2784)),n=s(25686),i=s(73186),o=s(79404),c=s.n(o),l=s(97871),h=s(20032),d=s(12599),u=s(74016),p=s(76275),m=s(60397),S=s(88027),y=s(63899),_=s(76687),f=s(20604),g=s(74383),v=(s(6886),s(28316)),b=s(36934),C=s(29496),I=s(84292),w=s(53223),E=s(72983),R=s(40159),x=s(74062),k=s(19153),T=s(18958),D=s(92160),Z=s(86928),A=s(57659);const P=(e,t)=>A.ZP.select(e,t.id),F=(e,t)=>(0,Z.cY)(e,t.id),U=(0,D.Z)().propsFromState((()=>({user:P,userSpace:F}))),H=a.createElement(T.Z,null),L=c().e68b09b4,O=c().fd06b02f;class q extends a.Component{constructor(...e){super(...e),this._handleAvatarClick=()=>{const{userSpace:e}=this.props;e||this._handleClick()},this._handleClick=()=>{const{index:e,onItemClick:t}=this.props,s=this.searchItemData;s&&t(s,e)}}render(){const{onRemove:e,style:t,user:s,userSpace:r,withNewTypeaheadUI:n}=this.props,{featureSwitches:i}=this.context,o=i.isTrue("responsive_web_twitter_blue_verified_badge_is_enabled");if(!s)return null;const c=r&&i.isTrue("voice_rooms_recent_search_audiospace_ring_enabled")?r:void 0;c&&(c.accessibilityLabel=O({screenName:s.screen_name}));const l=a.createElement(C.ZP,{accessibilityLabel:L,icon:H,onPress:e,size:"small",type:"brandText"});return a.createElement(k.ZP,{avatarSize:"xLarge",avatarUri:s.profile_image_url_https,decoration:l,displayMode:n?"ExperimentalUserTypeahead":"UserCompact",isBlueVerified:o&&s.is_blue_verified,isProtected:s.protected,isVerified:s.verified,name:s.name,onAvatarClick:this._handleAvatarClick,onCellClick:this._handleClick,onScreenNameClick:this._handleClick,presenceIndicator:c,screenName:s.screen_name,style:t,userId:s.id_str,withInteractiveStyling:!1,withLink:!1,withUsernameCenterAligned:!0})}get searchItemData(){return this.props.user?{category:m.Hk.RecentSearch,link:this.props.user.screen_name,query:this.props.id,recentSearchType:m.g2.User}:null}}q.contextType=h.rC;const N=U.forwardRef(q);var M=s(86045);const z=c().e68b09b4;class B extends a.PureComponent{render(){const{id:e,onRemove:t,...s}=this.props;return e?a.createElement(n.Z,{style:V.root},a.createElement(M.Z,s),a.createElement(C.ZP,{accessibilityLabel:z,icon:a.createElement(T.Z,null),onPress:t,size:"small",style:V.button,type:"brandText"})):null}get searchItemData(){const{id:e,image:t,supportText:s,title:r}=this.props;return{category:m.Hk.RecentSearch,query:e,recentSearchType:m.g2.Event,queryMetadata:{id:e,image:t,title:r,supportText:s}}}}const V=i.Z.create((e=>({root:{flexDirection:"row",justifyContent:"space-between"},button:{alignSelf:"center"}}))),Q=B;var K=s(38749),$=s(37541),j=s(80166);const W=a.createElement(T.Z,null),G=c().e68b09b4;class Y extends a.Component{render(){const{description:e,id:t,name:s,onRemove:r,withNewTypeaheadUI:i}=this.props;if(!t)return null;const o=i?"xxxLarge":"xLarge",c=a.createElement(K.Z,{Icon:j.Z,color:"primary",size:o,style:X.searchIcon});return a.createElement($.Z,{avatarCell:c,avatarSize:o,cellStyle:X.bodyColumn},a.createElement(n.Z,null,a.createElement(b.ZP,{numberOfLines:1,weight:"bold",withHashflags:!0},s),a.createElement(b.ZP,{color:"gray700",numberOfLines:1,withHashflags:!0},e)),a.createElement(C.ZP,{accessibilityLabel:G,icon:W,onPress:r,size:"small",type:"brandText"}))}get searchItemData(){const{description:e,id:t,name:s}=this.props;return t?{category:m.Hk.RecentSearch,query:t,recentSearchType:m.g2.Topic,queryMetadata:{id:t,name:s,description:e}}:null}}const J=Y,X=i.Z.create((e=>({bodyColumn:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},searchIcon:{marginEnd:e.spaces.space12}})));var ee=s(46874),te=s(10891),se=s(16587);const re=a.createElement(T.Z,null),ae=a.createElement(ee.Z,null);class ne extends a.Component{constructor(...e){super(...e),this._getMemoizedButtonType=(0,se.Z)((e=>e===m.Hk.SavedSearch?"destructiveText":"brandText")),this._getMemoizedRemoveIcon=(0,se.Z)((e=>e===m.Hk.SavedSearch?ae:re)),this._getButtonType=()=>{const{category:e}=this.props;return this._getMemoizedButtonType(e)},this._getRemoveIcon=()=>{const{category:e}=this.props;return this._getMemoizedRemoveIcon(e)}}render(){const{onRemove:e,query:t,withNewTypeaheadUI:s}=this.props,r=s?"xxxLarge":"xLarge",n=a.createElement(K.Z,{Icon:te.Z,color:"neutral",size:r,style:ie.searchIcon});return a.createElement($.Z,{avatarCell:n,avatarSize:r,cellStyle:ie.bodyColumn},a.createElement(b.ZP,{numberOfLines:1,withHashflags:!0},t),a.createElement(C.ZP,{accessibilityLabel:"",icon:this._getRemoveIcon(),onPress:e,size:"small",type:this._getButtonType()}))}get searchItemData(){const{category:e,query:t}=this.props;return{category:e,query:t,recentSearchType:e===m.Hk.RecentSearch?m.g2.Keyword:void 0}}}const ie=i.Z.create((e=>({bodyColumn:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},searchIcon:{marginEnd:e.spaces.space12,borderWidth:0,backgroundColor:"none"}}))),oe=ne,ce={viewType:"search_result"};class le extends a.Component{constructor(e,t){super(e,t),this._renderSearchItem=()=>{const{index:e,item:t,onItemClick:s}=this.props;return t.keyword?a.createElement(oe,{category:t.category,onRemove:this._handleOnRemove,query:t.keyword.query,ref:this._handleItemRef,withNewTypeaheadUI:this._withNewTypeaheadUI}):t.user?a.createElement(N,{id:t.user.id||"",index:e,onItemClick:s,onRemove:this._handleOnRemove,ref:this._handleItemRef,style:he.itemPadding,withNewTypeaheadUI:this._withNewTypeaheadUI}):t.topic?a.createElement(J,{description:t.topic.description||"",id:t.topic.id,name:t.topic.name||"",onRemove:this._handleOnRemove,ref:this._handleItemRef,withNewTypeaheadUI:this._withNewTypeaheadUI}):t.event?a.createElement(Q,{id:t.event.id,image:t.event.image||{url:"",height:0,width:0},onRemove:this._handleOnRemove,ref:this._handleItemRef,supportText:t.event.supportText||"",title:t.event.title||"",withNewTypeaheadUI:this._withNewTypeaheadUI}):null},this._handleItemRef=e=>{this._itemRef=e},this._handleOnRemove=e=>{const{index:t,item:s,onRemoveQuery:r}=this.props;r(s,t),e.stopPropagation()},this._handleOnClick=()=>{const{index:e,item:t,onItemClick:s}=this.props;t.user||this.searchItemData&&s(this.searchItemData,e)},this._withNewTypeaheadUI=this.context.featureSwitches.isTrue("responsive_web_account_search_readability_enabled")}render(){const{domId:e,item:t,testID:s}=this.props;return a.createElement(d.Z,{behavioralEventContext:ce},a.createElement(x.Z,{accessibilityRole:"option",accessibilitySelected:!!e,focusable:!0,nativeID:e,onClick:this._handleOnClick,style:[he.root,e&&he.focused,!(null!=t&&t.user)&&he.itemPadding],testID:s},this._renderSearchItem()))}get searchItemData(){return this._itemRef?this._itemRef.searchItemData:null}}le.contextType=h.rC;const he=i.Z.create((e=>({root:{cursor:"pointer"},itemPadding:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},focused:{backgroundColor:e.colors.gray0}}))),de=le;var ue=s(24949),pe=s(24208),me=s(63140),Se=s(23335),ye=s(71896),_e=s(33500),fe=s(23803);const ge=e=>(0,me.VZ)(e,me.ZP.GenericUserNotFound)||(0,me.VZ)(e,me.ZP.OtherUserSuspended)||(0,me.VZ)(e,me.ZP.AddressBookLookupNotFound),ve=(0,D.Z)().propsFromState((()=>{const e=(0,ue.P1)(ye.Ww,A.ZP.selectFetchStatuses,((e,t)=>{const s=(0,w.Z)(e.map((e=>{var s;const r=null==(s=e.user)?void 0:s.id;return r&&t[r]?{id:r,fetchStatus:t[r]}:void 0})));return(0,pe.Z)(s,(e=>e.fetchStatus))})),t=(0,ue.P1)(e,(e=>(e[fe.ZP.FAILED]||[]).map((e=>e.id)))),s=(0,ue.P1)(e,A.ZP.selectErrors,((e,t)=>(e[fe.ZP.FAILED]||[]).filter((({id:e})=>ge(t[e]||{}))).map((e=>e.id)))),r=(0,ue.P1)(e,A.ZP.selectErrors,((e,t)=>{const s=(e[fe.ZP.FAILED]||[]).filter((({id:e})=>!ge(t[e]||{})));return(e[fe.ZP.LOADING]||[]).length>0?fe.ZP.LOADING:(e[fe.ZP.LOADED]||[]).length>0?fe.ZP.LOADED:s.length>0?fe.ZP.FAILED:fe.ZP.NONE})),a=(0,ue.P1)(ye.Ww,(e=>e.map((e=>({...e,category:m.Hk.RecentSearch}))))),n=(0,ue.P1)(_e.as,(e=>e.map((e=>({keyword:{query:e.query},savedSearchId:e.id_str,category:m.Hk.SavedSearch})))));return{isRecentSearchDataLoaded:ye.H$,recentSearches:a,usersFetchStatus:r,invalidRecentSearchUserIds:s,failedRecentSearchUserIds:t,savedSearches:n}})).adjustStateProps((({failedRecentSearchUserIds:e,invalidRecentSearchUserIds:t,isRecentSearchDataLoaded:s,recentSearches:r,savedSearches:a,usersFetchStatus:n})=>{const i=!r.filter((({user:e})=>e&&t.indexOf(e.id)<0)).length,o=n!==fe.ZP.LOADING&&s&&i?fe.ZP.LOADED:n;return{failedRecentSearchUserIds:e,invalidRecentSearchUserIds:t,recentSearches:r,fetchStatus:o,savedSearches:a}})).propsFromActions((()=>({clearAll:ye.qF,createLocalApiErrorHandler:(0,Se.createLocalApiErrorHandlerWithContextFactory)("SEARCH_ONE_CLICK"),deleteSavedSearch:_e.k9,fetchRecentSearchesIfNeeded:ye.OB,fetchSavedSearchesIfNeeded:_e.l9,fetchUsersIfNeeded:A.ZP.fetchManyIfNeeded,fetchUsersPresenceIfNeeded:Z.ZP.fetchManyIfNeeded,removeQuery:ye.hj}))).withAnalytics({element:"typeahead"});var be=s(50617),Ce=s(85693);const Ie=c().ee295fbe,we={headline:c().f45c4250,text:c().caae4dda,confirmButtonLabel:c().dbd5d400},Ee=c().a8d68f62,Re=c().c6530778,xe=c().e047b8fa,ke=["user","keyword"];class Te extends a.Component{constructor(e,t){super(e,t),this._getRecentSearchItems=()=>{const{failedRecentSearchUserIds:e,recentSearches:t}=this.props,{allowedRecentSearchItems:s}=this.state,r=t.filter((({user:t})=>!t||e.indexOf(t.id)<0)).filter((e=>Object.keys(e).some((e=>s.includes(e)))));return r.length>15?r.slice(0,15):r},this._render=()=>{const{domId:e,savedSearches:t}=this.props,s=0===this._getNumOfSearchItems(),r=this._getRecentSearchItems();return s?a.createElement(n.Z,{style:De.emptyState,testID:Ce.Z.typeaheadEmptySearch},a.createElement(b.ZP,{align:"center",color:"gray700"},Ie)):a.createElement(n.Z,{accessibilityRole:"listbox",nativeID:e},r.length>0?a.createElement(a.Fragment,null,a.createElement(n.Z,{style:De.header,testID:Ce.Z.typeaheadRecentSearchesHeader},a.createElement(b.ZP,{numberOfLines:1,size:"headline1",weight:"bold"},Ee),a.createElement(C.ZP,{onBlur:this._handleClearAllBlur,onFocus:this._handleClearAllFocus,onPress:this._handleClearAllClick,ref:this._setClearAllButtonRef,size:"xSmall",type:"brandText"},xe)),r.map(((e,t)=>this._renderRecentSearchItem(e,t)))):null,t.length>0?a.createElement(a.Fragment,null,a.createElement(n.Z,{accessibilityHidden:!0,style:[De.header,De.borderTop],testID:Ce.Z.typeaheadSavedSearchesHeader},a.createElement(b.ZP,{numberOfLines:1,size:"headline1",weight:"bold"},Re)),this._renderSavedSearches()):null)},this._renderRecentSearchItem=(e,t)=>{const{ariaDescendantId:s}=this.props,r=this.state.focusIndex===t;return a.createElement(de,{domId:r?s:void 0,index:t,item:e,key:this._chooseKeyType(e,t),onItemClick:this._handleOnItemClick,onRemoveQuery:this._handleRemoveQuery,ref:r?this._setFocusedItemRef:void 0,testID:Ce.Z.typeaheadRecentSearchesItem})},this._chooseKeyType=(e,t)=>e.keyword?`keyword_${e.keyword.query}`:e.user?`user_${e.user.id}`:e.topic?`topic_${e.topic.id}`:e.event?`event_${e.event.id}`:`${t}`,this._renderSavedSearches=()=>{const{ariaDescendantId:e,savedSearches:t}=this.props,{focusIndex:s}=this.state,r=this._getRecentSearchItems(),i=[...t];return i.reverse(),a.createElement(n.Z,{testID:Ce.Z.typeaheadSavedSearchesContainer},i.map(((t,n)=>{const i=s===n+r.length;return a.createElement(de,{domId:i?e:void 0,index:n,item:t,key:t.savedSearchId,onItemClick:this._handleOnItemClick,onRemoveQuery:this._handleRemoveQuery,ref:i?this._setFocusedItemRef:void 0,testID:Ce.Z.typeaheadSavedSearchesItem})})))},this._getNumOfSearchItems=()=>{const{savedSearches:e}=this.props,t=this._getRecentSearchItems();return e.length+t.length},this._handleUsersRetry=()=>{this._fetchUsersDetailsIfNeeded()},this._fetchUsersDetailsIfNeeded=()=>{const{createLocalApiErrorHandler:e,fetchUsersIfNeeded:t,fetchUsersPresenceIfNeeded:s,invalidRecentSearchUserIds:r,recentSearches:a}=this.props,{featureSwitches:n,loggedInUserId:i}=this.context,o=((e,t)=>e.map((e=>{var t;return null==e||null==(t=e.user)?void 0:t.id})).filter(Boolean).filter((e=>t.indexOf(e)<0)))(a,r);t(o).catch(e({})),i&&n.isTrue("voice_rooms_recent_search_audiospace_ring_enabled")&&s(o).catch(e({}))},this._handleRemoveQuery=(e,t)=>{const{analytics:s,removeQuery:r}=this.props;switch(e.category){case m.Hk.RecentSearch:{const a={keyword:e.keyword,user:e.user,topic:e.topic,event:e.event};r(a),this._resetFocus();const n=p.Z.forRecentSearchResult(a,t),i=this._handleRemoveAction(e);n&&s.scribe({action:i,data:{items:[n]}});break}case m.Hk.SavedSearch:this.setState({shouldShowDeleteSavedSearchConfirmation:!0,savedSearchIdToDelete:e.savedSearchId});break;default:return}},this._handleRemoveAction=e=>e.user?"clear_user":e.topic?"clear_topic_interests":e.event?"clear_event":"clear_topic",this._handleClearAllBlur=()=>{this.setState({clearAllButtonHasFocus:!1})},this._handleClearAllFocus=()=>{this.setState({clearAllButtonHasFocus:!0})},this._handleClearAllClick=()=>{this.setState({shouldShowClearAllConfirmationSheet:!0})},this._handleOnClearAllConfirm=()=>{const{analytics:e,clearAll:t}=this.props;t(),e.scribeAction("clear_all"),this.setState({shouldShowClearAllConfirmationSheet:!1})},this._handleOnClearAllCancel=()=>{this.setState({shouldShowClearAllConfirmationSheet:!1})},this._handleOnDeleteSavedSearchConfirm=()=>{const{analytics:e,deleteSavedSearch:t,savedSearches:s}=this.props,{savedSearchIdToDelete:r}=this.state,a=s.findIndex((e=>e.savedSearchId===r)),n=s[a];if(r){t(r);const s=n&&p.Z.forSavedSearchResult(n.keyword.query,a);s&&e.scribe({element:"saved_search",action:"delete",data:{items:[s]}})}this.setState({shouldShowDeleteSavedSearchConfirmation:!1,savedSearchIdToDelete:void 0})},this._handleOnDeleteSavedSearchCancel=()=>{this.setState({shouldShowDeleteSavedSearchConfirmation:!1,savedSearchIdToDelete:void 0})},this._handleOnItemClick=(e,t)=>{const{onDismiss:s,onItemClick:r}=this.props;r(e,t),this._scribeClick(e,t),s&&s()},this._scribeRecentSearchImpression=()=>{const{analytics:e,recentSearches:t}=this.props;if(t&&t.length){const s=(0,w.Z)(t.map(((e,t)=>p.Z.forRecentSearchResult(e,t))));e.scribe({action:"impression",data:{items:s}})}},this._scribeSavedSearchImpression=()=>{const{analytics:e,savedSearches:t}=this.props;if(t&&t.length){const s=(0,w.Z)(t.map(((e,t)=>p.Z.forSavedSearchResult(e.keyword.query,t))));e.scribe({element:"saved_search",action:"impression",data:{items:s}})}},this._scribeClick=(e,t)=>{const{analytics:s}=this.props;switch(e.category){case m.Hk.SavedSearch:{const r=p.Z.forSavedSearchResult(e.query,t);s.scribe({element:"typeahead",action:"click",data:{targets:[r]}});break}case m.Hk.RecentSearch:{let r;e.recentSearchType&&(r=e.recentSearchType===m.g2.User?{user:{type:m.g2.User,id:e.query}}:e.recentSearchType===m.g2.Event&&e.queryMetadata&&e.queryMetadata.title?{event:{...e.queryMetadata,type:m.g2.Event,id:e.query}}:e.recentSearchType===m.g2.Topic&&e.queryMetadata&&e.queryMetadata.name?{topic:{...e.queryMetadata,type:m.g2.Topic,id:e.query}}:{keyword:{type:m.g2.Keyword,query:e.query}});const a=r&&p.Z.forRecentSearchResult(r,t);a&&s.scribe({action:"click",data:{targets:[a]}});break}}},this._setClearAllButtonRef=e=>{this._clearAllButtonRef=e},this._setFocusedItemRef=e=>{this._focusedItemRef=e,e&&this._shouldScrollToFocusedItem&&((0,R.up)(this._getScrollParent(),this._getFocusedItem()),this._shouldScrollToFocusedItem=!1)},this.hasFocusedItem=()=>this._getNumOfSearchItems()>0,this.deleteFocusedItem=()=>{if(this.hasFocusedItem()){var e,t;const s=null==(e=this._focusedItemRef)||null==(t=e.props)?void 0:t.item;if(s)return this._handleRemoveQuery(s,this.state.focusIndex),!0}return!1},this.selectFocusedItem=()=>{if(this.hasFocusedItem()){const e=this._focusedItemRef&&this._focusedItemRef.searchItemData;e&&this._handleOnItemClick(e,this.state.focusIndex)}},this._setFocusIndex=(e,t)=>{const{onItemFocusChanged:s}=this.props;this._shouldScrollToFocusedItem=t,this.setState({focusIndex:e}),s&&s()},this._resetFocus=()=>{this._setFocusIndex(-1)},this.focusNext=()=>{const{focusIndex:e}=this.state,t=this._getNumOfSearchItems();if(0===t)return;const s=e+1>=t?0:e+1;this._setFocusIndex(s,!0)},this.focusPrevious=()=>{const{focusIndex:e}=this.state,t=this._getNumOfSearchItems();if(0===t)return;const s=e-1<0?t-1:e-1;this._setFocusIndex(s,!0)},this.navigateNext=()=>{if(this._clearAllButtonRef&&!this.state.clearAllButtonHasFocus)return this._clearAllButtonRef},this.navigatePrevious=()=>{};const{featureSwitches:s}=this.context;var r,i;this.state={clearAllButtonHasFocus:!1,focusIndex:0,shouldShowClearAllConfirmationSheet:!1,shouldShowDeleteSavedSearchConfirmation:!1,allowedRecentSearchItems:(r=!0===s.getValueWithoutScribeImpression("responsive_web_recent_searches_topics_enabled"),i=!0===s.getValueWithoutScribeImpression("responsive_web_recent_searches_events_enabled"),[...ke,r?"topic":"",i?"event":""])}}componentDidMount(){const{createLocalApiErrorHandler:e,fetchRecentSearchesIfNeeded:t,fetchSavedSearchesIfNeeded:s,recentSearches:r,savedSearches:a}=this.props;t(),s().catch(e({})),this._fetchUsersDetailsIfNeeded(),this._scribeRecentSearchImpression(),this._scribeSavedSearchImpression(),(r&&r.length||a&&a.length)&&this._resetFocus()}componentDidUpdate(e){const{recentSearches:t,savedSearches:s}=this.props;e.recentSearches!==t&&(this._fetchUsersDetailsIfNeeded(),this._resetFocus(),this._scribeRecentSearchImpression()),e.savedSearches!==s&&(this._resetFocus(),this._scribeSavedSearchImpression())}render(){const{fetchStatus:e,style:t}=this.props,{shouldShowClearAllConfirmationSheet:s,shouldShowDeleteSavedSearchConfirmation:r}=this.state;return a.createElement(n.Z,{style:t},a.createElement(E.Z,{fetchStatus:e,onRequestRetry:this._handleUsersRetry,render:this._render}),s?a.createElement(I.Z,{confirmButtonLabel:we.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:we.headline,onCancel:this._handleOnClearAllCancel,onConfirm:this._handleOnClearAllConfirm,testID:Ce.Z.deleteRecentSearchesDialog,text:we.text}):null,r?a.createElement(be.Z,{onCancel:this._handleOnDeleteSavedSearchCancel,onConfirm:this._handleOnDeleteSavedSearchConfirm}):null)}_getScrollParent(){if(!this._scrollParent){const e=(0,R.rP)(v.findDOMNode(this));this._scrollParent=e===window?null:e}return this._scrollParent}_getFocusedItem(){const e=this._focusedItemRef&&v.findDOMNode(this._focusedItemRef);return e instanceof Element?e:null}}Te.contextType=h.rC;const De=i.Z.create((e=>({emptyState:{padding:e.spaces.space12,paddingTop:e.spaces.space20},borderTop:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:1},header:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",paddingVertical:e.componentDimensions.gutterVertical,paddingHorizontal:e.componentDimensions.gutterHorizontal}}))),Ze=ve.forwardRef(Te),Ae=(0,D.Z)().propsFromActions((()=>({addQuery:ye.DI}))).withAnalytics({component:"search_box"});var Pe=s(2847);const Fe=(e,t)=>A.ZP.select(e,t.userId),Ue=({user:e,userId:t})=>{const[s,r]=a.useState(!1),{featureSwitches:n}=a.useContext(h.rC),i=n.isTrue("follow_nudge_search_enabled");return a.useEffect((()=>{i&&e&&!e.following&&r(!0)}),[e,i]),s?a.createElement(Pe.C,{isFollowNudge:!0,showRelationshipChangeConfirmation:!0,userId:t}):null},He=(0,D.Z)().propsFromState((()=>({user:Fe})))(a.memo(Ue)),Le="SearchBox_Search_Input",Oe=c().ib2e46ee,qe=c().hbc99b03,Ne=/^(\w+)$/,Me=[S.my.Events,S.my.Users,S.my.Topics],ze=e=>"@"===e[0]?e.substring(1):e,Be={viewType:"search_field"};class Ve extends a.Component{constructor(e,t){var s;super(e,t),this._withNewTypeaheadUI=!1,this._renderSearchBoxEmptyState=e=>a.createElement(Ze,(0,r.Z)({},e,{onItemClick:this._handleSearchItemClick})),this._renderSearchUserDecoration=({user:e,userId:t})=>{const{loggedInUserId:s}=this.context;return s&&t!==s?a.createElement(He,{userId:t}):null},this._handleSearchItemClick=({category:e,link:t,query:s,queryMetadata:r,recentSearchType:a})=>{const{addQuery:n}=this.props;e===m.Hk.SavedSearch?this._submitQuery({query:s,shouldAddToRecentSearch:!1,src:y.Z.SavedSearchClick}):a===m.g2.Keyword?this._submitQuery({query:s,shouldAddToRecentSearch:!0,src:y.Z.RecentSearchClick}):a===m.g2.Event?(this._routeTransition({pathname:`/i/events/${s}`}),r&&r.title&&n({event:{...r,id:s,type:m.g2.Event}})):a===m.g2.Topic?(this._routeTransition({pathname:`/i/topics/${s}`}),r&&r.name&&n({topic:{...r,id:s,type:m.g2.Topic}})):t&&(this._routeTransition({pathname:`/${t}`,userId:s}),n({user:{id:s,type:m.g2.User}}))},this._handleSearchShortcut=e=>{const t=this._inputRef;t&&(e&&t.setQuery(e),t.focus())},this._getUserExactMatch=({hasResults:e,isLoaded:t,query:s})=>{const r=ze(s);if(r.match(Ne))return{id:`${s}_no_result_user`,type:S.El.NoResult,data:{text:qe({screenName:r}),type:"user"}}},this._handleOnDismiss=()=>{const{history:e}=this.props,{location:t}=e,s=t.state||{};if(s.searchFocused){const r={...t,state:{...s,lockScroll:!1,searchFocused:!1}};e.replace(r)}},this._handleOnFocus=()=>{const{analytics:e,history:t}=this.props,{location:s}=t,r=s.state||{};if(!r.searchFocused){const a={...s,state:{...r,searchFocused:!0,lockScroll:!0}};e.scribe({action:"focus_field"}),t.push(a)}},this._handleChange=e=>{this.setState({query:e})},this._handleTypeaheadSubmit=()=>{const{items:e,query:t}=this.state,{analytics:s}=this.props;/^\s*$/.test(t)||(s.scribe({action:"search",data:{items:p.Z.forTypeaheadResults(e),search_details:{query:t}}}),this._submitQuery({query:t,shouldAddToRecentSearch:!0}))},this._handleItemClick=(e,t)=>{const{addQuery:s}=this.props,{query:r}=this.state;switch(e.type){case S.El.User:if(e.data.id_str){s({user:{id:e.data.id_str,type:m.g2.User}})}this._routeTransition({pathname:`/${e.data.screen_name}`,userId:e.data.id_str});break;case S.El.Topic:case S.El.Hashtag:this._submitQuery({query:e.data.topic,shouldAddToRecentSearch:!0,src:y.Z.TypeaheadClick});break;case S.El.Event:e.data&&e.data.url?this._routeTransition({pathname:u.ZP.parseInternalUrl(e.data.url)}):this._submitQuery({query:e.data.topic,src:y.Z.TypeaheadClick});break;case S.El.NoResult:{const{type:t}=e.data;"user"===t?this._routeTransition({pathname:`/${ze(r)}`}):"topic"===t&&this._submitQuery({query:r,shouldAddToRecentSearch:!0,src:y.Z.TypeaheadClick});break}}},this._handleItemsChanged=e=>{this.setState({items:e})},this._routeTransition=({params:e,pathname:t,query:s,src:r,userId:a})=>{const{history:n,location:i}=this.props,o={...i,pathname:t,search:"",query:e||(s?{q:s,src:r}:{}),state:{...i.state,searchFocused:!1,lockScroll:!1,...a?{userId:a}:{}}};n.replace(o)},this._submitQuery=({query:e,shouldAddToRecentSearch:t=!1,src:s=y.Z.Typed})=>{const{addQuery:r,mode:a,onSubmit:n,searchFilters:i,searchRoute:o}=this.props;if(n&&n(e,s,this.state.lastSubmittedQuery===e),t){r({keyword:{query:e,type:m.g2.Keyword}})}const c=(0,m.F_)({query:e,querySrc:s,mode:a,searchFilters:i});this._routeTransition({pathname:o,params:c,src:s}),this.setState({lastSubmittedQuery:e})},this._setInputRef=e=>{this._inputRef=e},this.state={query:e.initialValue,items:[],lastSubmittedQuery:(0,l.B)(null==(s=e.location.query)?void 0:s.q)},this._withNewTypeaheadUI=this.context.featureSwitches.isTrue("responsive_web_account_search_readability_enabled")}componentDidMount(){const{shouldHandleSearchShortcut:e}=this.props;e&&(this._unregisterSearchShortcutHandler=(0,f.UJ)(this._handleSearchShortcut))}componentWillUnmount(){this._unregisterSearchShortcutHandler&&this._unregisterSearchShortcutHandler()}render(){const{forceVdlDisable:e,isCompact:t,isInSidebar:s,isOnHomepage:r,location:i,placeholder:o}=this.props,{query:c}=this.state,{searchPrefill:l}=i.state||{},h=this.props.initialValue||l,u=!!i.state&&!!i.state.searchFocused;return a.createElement(d.Z,{behavioralEventContext:Be},a.createElement(n.Z,{style:Qe.root},a.createElement(g.default,{filter:Me,forceVdlDisable:e,getTopicExactMatch:c?S.P0:void 0,getUserExactMatch:c?this._getUserExactMatch:void 0,initialValue:h,inputStyle:Qe.input,isCompact:t,isInSidebar:s,isOnHomepage:r,onDismiss:this._handleOnDismiss,onFocus:this._handleOnFocus,onItemClick:this._handleItemClick,onItemsChanged:this._handleItemsChanged,onQueryChange:this._handleChange,onSubmit:this._handleTypeaheadSubmit,placeholder:o,ref:this._setInputRef,renderEmptyState:this._renderSearchBoxEmptyState,renderUserDecoration:this._renderSearchUserDecoration,rounded:!0,shouldAutoFocus:u,shouldClearOnSelect:!0,shouldDeferPrefetch:!0,source:S._4.SearchBox,testID:Le,withFixedPositioning:!0,withFocusStyling:!0,withSectionDivider:!this._withNewTypeaheadUI})))}}Ve.defaultProps={initialValue:"",isInSidebar:!1,placeholder:Oe,searchRoute:"/search",forceVdlDisable:!0},Ve.contextType=h.rC;const Qe=i.Z.create((e=>({root:{alignItems:"stretch",flexBasis:0,flexDirection:"row",flexGrow:1},input:{flexShrink:1}}))),Ke=(0,_.ZP)(Ae(Ve))},63899:(e,t,s)=>{s.d(t,{Z:()=>r});const r={AdvancedSearchPage:"advanced_search_page",CashtagClick:"cashtag_click",HashtagClick:"hashtag_click",PromotedTrendClick:"promoted_trend_click",RecentSearchClick:"recent_search_click",SavedSearchClick:"saved_search_click",RelatedQueryClick:"related_query_click",SpellingCorrectionClick:"spelling_correction_click",SpellingCorrectionRevertClick:"spelling_suggestion_revert_click",SpellingExpansionClick:"spelling_expansion_click",SpellingExpansionRevertClick:"spelling_expansion_revert_click",SpellingSuggestionClick:"spelling_suggestion_click",TrendClick:"trend_click",TrendView:"trend_view",TypeaheadClick:"typeahead_click",Typed:"typed_query",TweetDetailQuoteTweet:"tdqt"}},71896:(e,t,s)=>{s.d(t,{DI:()=>v,H$:()=>u,OB:()=>b,Ww:()=>h,YB:()=>d,hj:()=>y,qF:()=>f});s(1951);var r=s(26853),a=s(67935);const n="recentSearches",i="rweb.recentSearches",o=e=>(t,s,{userPersistence:r})=>r.set(i,{recentSearches:e}).catch((()=>{Promise.resolve()})),c=(e,t)=>{let s=[];if(e&&e.user){const r=e.user;s=t.filter((e=>e.keyword||e.topic||e.event||e.user&&e.user.id!==r.id))}else if(e&&e.topic){const r=e.topic;s=t.filter((e=>e.keyword||e.user||e.event||e.topic&&e.topic.id!==r.id))}else if(e&&e.event){const r=e.event;s=t.filter((e=>e.keyword||e.user||e.topic||e.event&&e.event.id!==r.id))}else if(e&&e.keyword){const r=e.keyword;s=t.filter((e=>e.keyword&&e.keyword.query!==r.query||e.user||e.topic||e.event))}return s},l={fetched:!1,recentSearches:[]};const h=e=>e.recentSearches.recentSearches,d=e=>h(e)[0]||null,u=e=>e.recentSearches.fetched,p="rweb/recentSearches/INIT_FROM_CACHE",m=e=>({type:p,payload:e}),S="rweb/recentSearches/REMOVE_QUERY",y=e=>(t,s,{userPersistence:r})=>{t({payload:e,type:S});const n=s().recentSearches;return(0,a.Qb)(s())?t(o(n.recentSearches)):Promise.resolve()},_="rweb/recentSearches/CLEAR_ALL",f=()=>(e,t,{userPersistence:s})=>{e({type:_});const r=t().recentSearches;return(0,a.Qb)(t())?e(o(r.recentSearches)):Promise.resolve()},g="rweb/recentSearches/ADD_QUERY",v=e=>(t,s,{userPersistence:r})=>{t({payload:e,type:g});const n=s().recentSearches;return(0,a.Qb)(s())?t(o(n.recentSearches)):Promise.resolve()},b=()=>(e,t,{userPersistence:s})=>t().recentSearches.fetched?Promise.resolve():e(((e,t,{userPersistence:s})=>{const r=t();return(0,a.Qb)(r)?s.get(i).then((t=>{e(m(t))})).catch((()=>{e(m())})):(e(m()),Promise.resolve())}));r.Z.register({[n]:function(e=l,t){switch(t.type){case g:{const s=t.payload,r=s?c(s,e.recentSearches):[];return r.length>49&&r.splice(49,1),s&&r.unshift(s),{...e,recentSearches:r}}case S:{const s=t.payload,r=s?c(s,e.recentSearches):[];return{...e,recentSearches:r}}case _:return{fetched:!0,recentSearches:[]};case p:return{...e,...t.payload,fetched:!0};default:return e}}})},33500:(e,t,s)=>{s.d(t,{GL:()=>S,as:()=>m,k9:()=>y,l9:()=>_});s(6886);var r=s(72599),a=s(26853),n=s(53392),i=s(23803),o=s(67935);const c="savedSearches",l={fetchStatus:i.ZP.NONE,savedSearches:[]},h=Object.freeze({REQUEST:"rweb/savedSearches/FETCH_SAVED_SEARCHES_REQUEST",SUCCESS:"rweb/savedSearches/FETCH_SAVED_SEARCHES_SUCCESS",FAILURE:"rweb/savedSearches/FETCH_SAVED_SEARCHES_FAILURE"}),d=Object.freeze({REQUEST:"rweb/savedSearches/SAVE_SEARCH_REQUEST",SUCCESS:"rweb/savedSearches/SAVE_SEARCH_SUCCESS",FAILURE:"rweb/savedSearches/SAVE_SEARCH_FAILURE"}),u=Object.freeze({REQUEST:"rweb/savedSearches/DELETE_SAVED_SEARCH_REQUEST",SUCCESS:"rweb/savedSearches/DELETE_SAVED_SEARCH_SUCCESS",FAILURE:"rweb/savedSearches/DELETE_SAVED_SEARCH_FAILURE"});function p(e=l,t){switch(t.type){case h.SUCCESS:{const s=t.payload,a=Array.isArray(s);return a||(0,r.ZP)("Saved search results are not type array",{extra:{savedSearchResultsType:typeof s}}),{...e,fetchStatus:i.ZP.LOADED,savedSearches:a&&s?s:[]}}case h.FAILURE:return{...e,fetchStatus:i.ZP.FAILED};case d.SUCCESS:return{...e,savedSearches:t.payload?[...e.savedSearches,t.payload]:e.savedSearches};case u.SUCCESS:return t.payload?{...e,savedSearches:e.savedSearches.filter((e=>e.id_str!==t.payload.id_str))}:e;default:return e}}a.Z.register({[c]:p});const m=e=>e.savedSearches.savedSearches,S=e=>(t,s,{api:r})=>(0,n._O)(t,{request:r.SavedSearches.create,params:{query:e}})({actionTypes:d,context:"SAVE_SEARCH"}),y=e=>(t,s,{api:r})=>(0,n._O)(t,{request:r.SavedSearches.destroy,params:{id:e}})({actionTypes:u,context:"DELETE_SAVED_SEARCH"}),_=()=>(e,t,{api:s})=>{const r=t();if(!(0,o.Qb)(r))return Promise.resolve();const a=(e=>e.savedSearches.fetchStatus)(r)===i.ZP.LOADED;return a?Promise.resolve():e(((e,t,{api:s})=>(0,n._O)(e,{request:s.SavedSearches.fetch,params:{}})({actionTypes:h,context:"FETCH_SAVED_SEARCHES"})))}},32070:(e,t,s)=>{s.d(t,{Z:()=>R});var r=s(7896),a=(s(6886),s(2784)),n=s(14983),i=s.n(n),o=s(28316),c=s(90601),l=s(31461),h=s(80753),d=s(81665),u=!!document.documentElement.currentStyle,p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],S={},y=document.createElement("textarea"),_=function(e){Object.keys(p).forEach((function(t){e.style.setProperty(t,p[t],"important")}))};function f(e,t,s,r,a){void 0===s&&(s=!1),void 0===r&&(r=null),void 0===a&&(a=null),null===y.parentNode&&document.body.appendChild(y);var n=function(e,t,s){void 0===s&&(s=!1);if(s&&S[t])return S[t];var r=window.getComputedStyle(e);if(null===r)return null;var a=m.reduce((function(e,t){return e[t]=r.getPropertyValue(t),e}),{}),n=a["box-sizing"];if(""===n)return null;u&&"border-box"===n&&(a.width=parseFloat(a.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var i=parseFloat(a["padding-bottom"])+parseFloat(a["padding-top"]),o=parseFloat(a["border-bottom-width"])+parseFloat(a["border-top-width"]),c={sizingStyle:a,paddingSize:i,borderSize:o,boxSizing:n};s&&(S[t]=c);return c}(e,t,s);if(null===n)return null;var i=n.paddingSize,o=n.borderSize,c=n.boxSizing,l=n.sizingStyle;Object.keys(l).forEach((function(e){y.style[e]=l[e]})),_(y),y.value=e.value||e.placeholder||"x";var h=-1/0,d=1/0,p=y.scrollHeight;"border-box"===c?p+=o:"content-box"===c&&(p-=i),y.value="x";var f=y.scrollHeight-i,g=Math.floor(p/f);return null!==r&&(h=f*r,"border-box"===c&&(h=h+i+o),p=Math.max(h,p)),null!==a&&(d=f*a,"border-box"===c&&(d=d+i+o),p=Math.min(d,p)),{height:p,minHeight:h,maxHeight:d,rowCount:Math.floor(p/f),valueRowCount:g}}y.setAttribute("tab-index","-1"),y.setAttribute("aria-hidden","true"),_(y);var g=function(){},v=0,b=function(e){function t(t){var s;return(s=e.call(this,t)||this)._onRef=function(e){s._ref=e;var t=s.props.inputRef;"function"!=typeof t?t.current=e:t(e)},s._onChange=function(e){s._controlled||s._resizeComponent(),s.props.onChange(e,(0,h.Z)(s))},s._resizeComponent=function(e){void 0===e&&(e=g);var t=f(s._ref,s._uid,s.props.useCacheForDOMMeasurements,s.props.minRows,s.props.maxRows);if(null!==t){var r=t.height,a=t.minHeight,n=t.maxHeight,i=t.rowCount,o=t.valueRowCount;s.rowCount=i,s.valueRowCount=o,s.state.height===r&&s.state.minHeight===a&&s.state.maxHeight===n?e():s.setState({height:r,minHeight:a,maxHeight:n},e)}else e()},s.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},s._uid=v++,s._controlled=void 0!==t.value,s._resizeLock=!1,s}(0,d.Z)(t,e);var s=t.prototype;return s.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,(0,l.Z)(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=(0,r.Z)({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),(0,a.createElement)("textarea",(0,r.Z)({},t,{onChange:this._onChange,ref:this._onRef}))},s.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},s.componentDidUpdate=function(e,t){e!==this.props&&this._resizeComponent(),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},s.componentWillUnmount=function(){window.removeEventListener("resize",this._resizeListener),function(e){delete S[e]}(this._uid)},t}(a.Component);b.defaultProps={inputRef:g,onChange:g,onHeightChange:g,useCacheForDOMMeasurements:!1};const C=b;var I=s(77934),w=s(73186);const E=["text","search","url","tel","password"],R=a.forwardRef(((e,t)=>{const s=I.wL(),{onFocus:n}=e,i=a.useCallback((e=>{n&&n(),s("focus")}),[n,s]);return a.createElement(x,(0,r.Z)({},e,{onFocus:i,ref:t}))}));class x extends a.PureComponent{constructor(...e){super(...e),this._onPaste=e=>{const{onFilesAdded:t,onPaste:s}=this.props;if(t){const s=e.nativeEvent&&e.nativeEvent.clipboardData||{};let r=[];if(s.items){r=Array.prototype.slice.call(s.items).filter((e=>"file"===e.kind)).map((e=>e.getAsFile()))}else s.files&&(r=Array.prototype.slice.call(s.files));if(r.length>0)return e.preventDefault(),t(r)}return s&&s(e)},this._setTextInputRef=e=>{this._textInputRef=e},this._checkForRenderProps=()=>{const e=!Object.keys(this.props).some((e=>e.includes("render")));i()(e,"Must have no render props. See comment at top of file and RWEB-23660 for details.")}}componentDidMount(){const{autoFocus:e,positionCursorAtBeginning:t,positionCursorAtEnd:s,type:r}=this.props,a=this._getTextInputDOMNode();if(e&&a){a.focus();const e=E.indexOf(r)>-1;if(s&&e){const e=a.value.length;a.setSelectionRange(e,e)}else t&&e&&a.setSelectionRange(0,0)}this._checkForRenderProps()}componentDidUpdate(){this._checkForRenderProps()}render(){const{ariaActiveDescendant:e,ariaAutocomplete:t,ariaControls:s,ariaExpanded:r,ariaLabel:a,ariaOwns:n,ariaRole:i,autoCapitalize:o,autoComplete:l,autoCorrect:h,autoFocus:d,defaultValue:u,editable:p,inputMode:m,max:S,maxLength:y,maxNumberOfLines:_,min:f,multiline:g,name:v,numberOfLines:b,onBlur:I,onChange:w,onFocus:E,onInput:R,onKeyDown:x,onKeyPress:T,onKeyUp:D,pattern:Z,placeholder:A,placeholderTextColor:P,returnKeyType:F,spellCheck:U,style:H,testID:L,type:O,useCacheForDOMMeasurements:q,value:N}=this.props,M={"aria-activedescendant":e,"aria-autocomplete":t,"aria-controls":s,"aria-expanded":r,"aria-label":a,"aria-owns":n,autoCapitalize:o,autoComplete:l,autoCorrect:h?"on":"off",autoFocus:d,defaultValue:u,disabled:!p,inputMode:m,max:S,maxLength:y,min:f,name:v,onBlur:I,onChange:w,onFocus:E,onInput:R,onKeyDown:x,onKeyPress:T,onKeyUp:D,pattern:Z,placeholder:A,role:i,spellCheck:U,style:H,testID:L,value:N},z={maxRows:_||b,minRows:b,useCacheForDOMMeasurements:q},B=[k.alignLeft],V={enterKeyHint:F,type:O},Q=[k.alignLeft],K=g?z:V,$=g?B:Q,j=Object.assign({},{...M,...K,dir:"auto",onChange:w,onPaste:this._onPaste,ref:this._setTextInputRef,style:[k.root,H,{placeholderTextColor:P},...$]}),W=g?C:"input";return(0,c.Z)(W,j)}_getTextInputDOMNode(){if(!this.textInputNode){const e=o.findDOMNode(this._textInputRef);this.textInputNode=e&&(e instanceof window.HTMLInputElement||e instanceof window.HTMLTextAreaElement)?e:void 0}return this.textInputNode}blur(){const e=this._getTextInputDOMNode();e&&e.blur()}focus(){const e=this._getTextInputDOMNode();e&&e.focus()}clear(){const{onClear:e}=this.props;(this._getTextInputDOMNode()||{}).value="",e&&e()}getValue(){const e=this._getTextInputDOMNode(),{value:t=""}=e||{};return t}getOffsetHeight(){const e=this._getTextInputDOMNode();return e&&e.offsetHeight||0}}x.defaultProps={autoComplete:"off",autoCapitalize:"sentences",editable:!0,numberOfLines:2,spellCheck:"true",type:"text",useCacheForDOMMeasurements:!0};const k=w.Z.create((e=>({root:{appearance:"none",boxSizing:"border-box",resize:"none",width:"100%"},alignLeft:{textAlign:"start"}})))},6405:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(2784),a=s(90601),n=s(73569);const i=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[n.Z.root,e.style],viewBox:"0 0 15 15",children:r.createElement("g",null,r.createElement("path",{d:"M6.09 7.5L.04 1.46 1.46.04 7.5 6.09 13.54.04l1.42 1.42L8.91 7.5l6.05 6.04-1.42 1.42L7.5 8.91l-6.04 6.05-1.42-1.42L6.09 7.5z"}))});i.metadata={width:15,height:15};const o=i},46874:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(2784),a=s(90601),n=s(73569);const i=(e={})=>(0,a.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[n.Z.root,e.style],viewBox:"0 0 24 24",children:r.createElement("g",null,r.createElement("path",{d:"M16 6V4.5C16 3.12 14.88 2 13.5 2h-3C9.11 2 8 3.12 8 4.5V6H3v2h1.06l.81 11.21C4.98 20.78 6.28 22 7.86 22h8.27c1.58 0 2.88-1.22 3-2.79L19.93 8H21V6h-5zm-6-1.5c0-.28.22-.5.5-.5h3c.27 0 .5.22.5.5V6h-4V4.5zm7.13 14.57c-.04.52-.47.93-1 .93H7.86c-.53 0-.96-.41-1-.93L6.07 8h11.85l-.79 11.07zM9 17v-6h2v6H9zm4 0v-6h2v6h-2z"}))});i.metadata={width:24,height:24};const o=i},80753:(e,t,s)=>{function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}s.d(t,{Z:()=>r})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.Typeahead~bundle.LoggedOutHome~bundle.Search.4c442f69.js.map